package handlers

import (
	tgBotApi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
	log "github.com/sirupsen/logrus"
)

func CallbackHandler(callbackQuery *tgBotApi.CallbackQuery, bot *tgBotApi.BotAPI, cache map[int64]bool) {
	log.Debugf("[%s] %s", callbackQuery.From.UserName, callbackQuery.Data)
	log.Debug(callbackQuery.Message.Chat.ID)
	msg := tgBotApi.NewMessage(callbackQuery.Message.Chat.ID, "")

	msg.ParseMode = "markdown"

	switch callbackQuery.Data {
	case "No feedback":
		msg.Text = "–®–∞–≥ 1. –ó–∞–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∫–∞–±–∏–Ω–µ—Ç –Ω–∞ WB\n–®–∞–≥ 2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ \"–û—Ç–∑—ã–≤—ã –∏ –≤–æ–ø—Ä–æ—Å—ã\"\n–®–∞–≥ 3. –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–Ω –æ—Ç–∑—ã–≤–∞ –∏ –ø—Ä–∏—à–ª–∏—Ç–µ –≤ —á–∞—Ç\n–®–∞–≥ 4. –í —Ç–µ—á–µ–Ω–∏–µ 6 —á–∞—Å–æ–≤ –º—ã –≤–∞–º –ø—Ä–∏—à–ª–µ–º –∫–µ—à–±–µ–∫.\nüôÇ"
		bot.Send(msg)
	case "feedback":
		msg.Text = "–û—Ç–ª–∏—á–Ω–æ! üòä\n\n–ù–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ, –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ–Ω—É—Å–∞, –í–∞–º –Ω—É–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤. –≠—Ç–æ –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç—ã–µ 8 —à–∞–≥–æ–≤ :\n1Ô∏è‚É£–ó–∞–π–¥–∏—Ç–µ –≤ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç.\n2Ô∏è‚É£–ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª ‚Äú–ü–æ–∫—É–ø–∫–∏‚Äù\n3Ô∏è‚É£–í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–≤–∞—Ä, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –ø—Ä–∏–æ–±—Ä–µ–ª–∏\n4Ô∏è‚É£–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ ‚Äú–û—Ç–∑—ã–≤‚Äù - > ‚Äú–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤‚Äù\n5Ô∏è‚É£–ù–∞–ø–∏—à–∏—Ç–µ, —á–µ–º –í–∞–º –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è –Ω–∞—à —Ç–æ–≤–∞—Ä, –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ –µ–≥–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é\n6Ô∏è‚É£–ö–ª–∏–∫–Ω–∏—Ç–µ ‚Äú–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –æ—Ç–∑—ã–≤‚Äù\n7Ô∏è‚É£–°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç –≥–æ—Ç–æ–≤–æ–≥–æ –æ—Ç–∑—ã–≤–∞ –∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ –≤ –Ω–∞—à —á–∞—Ç-–±–æ—Ç.\n8.–í —Ç–µ—á–µ–Ω–∏–µ 6 —á–∞—Å–æ–≤ –º—ã –≤–∞–º –ø—Ä–∏—à–ª–µ–º –∫—ç—à–±–µ–∫."
		bot.Send(msg)
	case "question":
		msg.Text = "–û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É —Å –∫–æ—Ç–æ—Ä–æ–π –í—ã —Å—Ç–æ–ª–∫–Ω—É–ª–∏—Å—å. –ú—ã –æ—Ç–≤–µ—Ç–∏–º –Ω–∞ –≤—Å–µ –í–∞—à–∏ –≤–æ–ø—Ä–æ—Å—ã –∏ —Ä–µ—à–∏–º –ø—Ä–æ–±–ª–µ–ºüëå"
		cache[callbackQuery.Message.Chat.ID] = true
		bot.Send(msg)
	}
	log.Debugf("%s %v", "–∫–µ—à:", cache)
	return
}
